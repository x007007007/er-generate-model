# Packages ç›®å½•

è¿™ä¸ªç›®å½•åŒ…å«ç‹¬ç«‹çš„åŒ…ï¼Œå¯ä»¥å•ç‹¬å‘å¸ƒåˆ° PyPIã€‚

## ðŸ“¦ åŒ…åˆ—è¡¨

### er-django

Django é›†æˆæ’ä»¶ï¼Œç”¨äºŽå°† Django models è½¬æ¢ä¸º ER å›¾å’Œ ER è¿ç§»ã€‚

**ç›®å½•**: `packages/er-django/`

**å®‰è£…**:
```bash
# å¼€å‘æ¨¡å¼
pip install -e packages/er-django/

# ä»Ž PyPIï¼ˆæœªæ¥ï¼‰
pip install x007007007-er-django
```

**æ–‡æ¡£**:
- [README.md](er-django/README.md) - ç”¨æˆ·æ–‡æ¡£
- [INSTALL.md](er-django/INSTALL.md) - å®‰è£…æŒ‡å—
- [DESIGN.md](er-django/src/x007007007/er_django/DESIGN.md) - è®¾è®¡æ–‡æ¡£

**ä¾èµ–**:
- x007007007-er (æ ¸å¿ƒåŒ…)
- django>=4.2.0

## ðŸ—ï¸ åŒ…ç»“æž„

æ¯ä¸ªåŒ…éƒ½éµå¾ªæ ‡å‡†çš„ Python åŒ…ç»“æž„ï¼š

```
packages/
â””â”€â”€ er-django/
    â”œâ”€â”€ pyproject.toml      # åŒ…é…ç½®
    â”œâ”€â”€ README.md           # ç”¨æˆ·æ–‡æ¡£
    â”œâ”€â”€ INSTALL.md          # å®‰è£…æŒ‡å—
    â”œâ”€â”€ .gitignore
    â”œâ”€â”€ src/
    â”‚   â””â”€â”€ x007007007/
    â”‚       â””â”€â”€ er_django/  # æºä»£ç 
    â””â”€â”€ tests/              # æµ‹è¯•
```

## ðŸš€ å¼€å‘å·¥ä½œæµ

### 1. å¼€å‘æ–°åŒ…

```bash
# 1. åˆ›å»ºåŒ…ç›®å½•
mkdir -p packages/new-package/src/x007007007

# 2. åˆ›å»º pyproject.toml
# 3. å®žçŽ°åŠŸèƒ½
# 4. æ·»åŠ æµ‹è¯•
# 5. ç¼–å†™æ–‡æ¡£
```

### 2. æœ¬åœ°æµ‹è¯•

```bash
# å®‰è£…åŒ…ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
pip install -e packages/er-django/

# è¿è¡Œæµ‹è¯•
cd packages/er-django
pytest tests/
```

### 3. æž„å»ºå’Œå‘å¸ƒ

```bash
cd packages/er-django

# æž„å»º
python -m build

# å‘å¸ƒåˆ° Test PyPI
twine upload --repository testpypi dist/*

# å‘å¸ƒåˆ° PyPI
twine upload dist/*
```

## ðŸ“‹ æ·»åŠ æ–°åŒ…çš„æ­¥éª¤

1. **åˆ›å»ºç›®å½•ç»“æž„**
   ```bash
   mkdir -p packages/new-package/src/x007007007
   mkdir -p packages/new-package/tests
   ```

2. **åˆ›å»º pyproject.toml**
   ```toml
   [project]
   name = "x007007007-new-package"
   version = "0.1.0"
   dependencies = [
       "x007007007-er>=0.1.0",
   ]
   ```

3. **å®žçŽ°åŠŸèƒ½**
   - åœ¨ `src/x007007007/new_package/` ä¸­ç¼–å†™ä»£ç 
   - éµå¾ªé¡¹ç›®çš„ä»£ç è§„èŒƒ

4. **æ·»åŠ æµ‹è¯•**
   - åœ¨ `tests/` ä¸­æ·»åŠ æµ‹è¯•
   - ç¡®ä¿æµ‹è¯•è¦†ç›–çŽ‡ > 80%

5. **ç¼–å†™æ–‡æ¡£**
   - README.md - ç”¨æˆ·æ–‡æ¡£
   - INSTALL.md - å®‰è£…æŒ‡å—
   - DESIGN.md - è®¾è®¡æ–‡æ¡£ï¼ˆå¯é€‰ï¼‰

6. **æ›´æ–°æ­¤æ–‡æ¡£**
   - åœ¨ä¸Šé¢çš„"åŒ…åˆ—è¡¨"ä¸­æ·»åŠ æ–°åŒ…

## ðŸ”— åŒ…ä¹‹é—´çš„ä¾èµ–

```
x007007007-er (æ ¸å¿ƒåŒ…)
    â†‘
    â””â”€â”€ x007007007-er-django (Django æ’ä»¶)
    â””â”€â”€ x007007007-er-xxx (æœªæ¥çš„å…¶ä»–æ’ä»¶)
```

## ðŸ“ å‘½åè§„èŒƒ

- **åŒ…å**: `x007007007-er-{feature}`
- **æ¨¡å—å**: `x007007007.er_{feature}`
- **PyPI å**: `x007007007-er-{feature}`

ä¾‹å¦‚:
- åŒ…å: `er-django`
- æ¨¡å—å: `x007007007.er_django`
- PyPI å: `x007007007-er-django`

## ðŸ§ª æµ‹è¯•ç­–ç•¥

æ¯ä¸ªåŒ…éƒ½åº”è¯¥æœ‰è‡ªå·±çš„æµ‹è¯•ï¼š

```bash
# è¿è¡Œå•ä¸ªåŒ…çš„æµ‹è¯•
cd packages/er-django
pytest tests/

# è¿è¡Œæ‰€æœ‰åŒ…çš„æµ‹è¯•
pytest packages/*/tests/
```

## ðŸ“¦ å‘å¸ƒç­–ç•¥

### ç‹¬ç«‹ç‰ˆæœ¬

æ¯ä¸ªåŒ…å¯ä»¥æœ‰è‡ªå·±çš„ç‰ˆæœ¬å·ï¼š
- æ ¸å¿ƒåŒ…: `x007007007-er==0.2.0`
- Django æ’ä»¶: `x007007007-er-django==0.1.5`

### ç‰ˆæœ¬å…¼å®¹æ€§

åœ¨ `pyproject.toml` ä¸­æŒ‡å®šä¾èµ–ç‰ˆæœ¬ï¼š
```toml
dependencies = [
    "x007007007-er>=0.1.0,<0.3.0",  # å…¼å®¹ 0.1.x å’Œ 0.2.x
]
```

## ðŸ”„ æ›´æ–°æµç¨‹

1. **æ›´æ–°æ ¸å¿ƒåŒ…**
   ```bash
   cd .  # é¡¹ç›®æ ¹ç›®å½•
   # æ›´æ–°ä»£ç 
   # æ›´æ–°ç‰ˆæœ¬å·
   # å‘å¸ƒ
   ```

2. **æ›´æ–°æ’ä»¶åŒ…**
   ```bash
   cd packages/er-django
   # æ›´æ–°ä»£ç 
   # æ›´æ–°ç‰ˆæœ¬å·
   # æµ‹è¯•å…¼å®¹æ€§
   # å‘å¸ƒ
   ```

## ðŸ“š ç›¸å…³æ–‡æ¡£

- [ä¸»é¡¹ç›® README](../README.md)
- [ER Django æ–‡æ¡£](er-django/README.md)
- [ç¤ºä¾‹é¡¹ç›®](../examples/django_blog/README.md)

## ðŸ¤ è´¡çŒ®

æ¬¢è¿Žè´¡çŒ®æ–°çš„åŒ…ï¼è¯·éµå¾ªï¼š
1. åˆ›å»ºæ–°çš„åŒ…ç›®å½•
2. éµå¾ªå‘½åè§„èŒƒ
3. æ·»åŠ å®Œæ•´çš„æµ‹è¯•
4. ç¼–å†™æ¸…æ™°çš„æ–‡æ¡£
5. æäº¤ PR

## ðŸ“„ è®¸å¯è¯

æ‰€æœ‰åŒ…éƒ½ä½¿ç”¨ MIT License
